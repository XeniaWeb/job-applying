import{m as P,p as Z,q as se,s as w,h as K,x as X,y as ne,z as ie,o as m,c as b,a as o,n as S,k,e as $,t as O,g as C,F as U,r as R,d as i,j as Q,A as W,b as G,B as ue,w as I,C as re,D as de,T as ce,E as pe,u as n,Z as ve,i as me,f as fe,G as be,H as ye}from"./app-vTNjMMn8.js";import{_ as L,b as V,a as F}from"./TextInput-Dou3FnZU.js";import{_ as ge}from"./AuthenticatedLayout-5Ki5Os20.js";import{_ as _e}from"./PrimaryButton-CTc_lm8-.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoXeniaWebMB-CTN2BT_2.js";import"./AppButton-Csiz9H4z.js";const j=(u,t)=>{const l=u.__vccOpts||u;for(const[y,a]of t)l[y]=a;return l},xe={},we={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ke=o("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"},null,-1),Me=[ke];function Le(u,t){return m(),b("svg",we,Me)}const Ve=j(xe,[["render",Le]]),Ce={},Se={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},De=o("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"},null,-1),Be=[De];function $e(u,t){return m(),b("svg",Se,Be)}const J=j(Ce,[["render",$e]]),Ae=P({__name:"MenuOption",props:{menu:{},index:{},isFocused:{type:Boolean},isSelected:{type:Boolean}},emits:["select"],setup(u,{emit:t}){const l=u,y=t,a=w(null);return X(()=>l.isFocused,()=>{if(l.isFocused&&l.menu){const p=l.menu.children[l.index],s=p.offsetTop,x=s+p.clientHeight,r=l.menu.scrollTop,c=l.menu.clientHeight;s<r?l.menu.scrollTop=s:x>r+c&&(l.menu.scrollTop=x-c)}}),(p,s)=>(m(),b("div",{ref_key:"option",ref:a,tabindex:"-1",role:"option",class:S({focused:p.isFocused,selected:p.isSelected}),"aria-disabled":!1,onClick:s[0]||(s[0]=x=>y("select")),onKeydown:s[1]||(s[1]=de(x=>y("select"),["enter"]))},[k(p.$slots,"default")],34))}}),Oe=["aria-expanded","aria-describedby","aria-description","aria-labelledby","aria-label","aria-required"],Ie=["onClick"],Ee=["id","disabled","placeholder"],Te={class:"indicators-container"},Fe=["disabled"],Ue=["disabled"],je=["aria-label","aria-multiselectable"],Ne={key:0,class:"no-results"},qe=P({__name:"Select",props:Z({options:{},displayedOptions:{},placeholder:{default:"Select an option"},isClearable:{type:Boolean,default:!0},isDisabled:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!0},isMulti:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},teleport:{default:void 0},inputId:{default:void 0},aria:{default:void 0},filterBy:{type:Function,default:(u,t,l)=>t.toLowerCase().includes(l.toLowerCase())},getOptionLabel:{type:Function,default:u=>u.label},getMultiValueLabel:{type:Function,default:u=>u.label}},{modelValue:{required:!0,validator:(u,t)=>t.isMulti?Array.isArray(u):!Array.isArray(u)},modelModifiers:{}}),emits:Z(["optionSelected","optionDeselected","search"],["update:modelValue"]),setup(u,{emit:t}){const l=u,y=t,a=se(u,"modelValue"),p=w(null),s=w(null),x=w(null),r=w(""),c=w(!1),_=w(-1),D=K(()=>{const e=l.displayedOptions||l.options,d=v=>v.filter(h=>!a.value.includes(h.value));if(l.isSearchable&&r.value){const v=e.filter(h=>{const A=l.isMulti?l.getMultiValueLabel(h):l.getOptionLabel(h);return l.filterBy(h,A,r.value)});return l.isMulti?d(v):v}return l.isMulti?d(e):e}),g=K(()=>{if(l.isMulti)return a.value.map(d=>l.options.find(v=>v.value===d));const e=l.options.find(d=>d.value===a.value);return e?[e]:[]}),B=e=>{c.value=!0,_.value=0,e!=null&&e.focusInput&&s.value&&s.value.focus()},Y=()=>{c.value=!1,r.value=""},T=e=>{l.isMulti?a.value.push(e.value):a.value=e.value,y("optionSelected",e),r.value="",l.closeOnSelect&&(c.value=!1),s.value&&s.value.blur()},ee=e=>{l.isMulti&&!l.isDisabled&&(a.value=a.value.filter(d=>d!==e.value),y("optionDeselected",e))},le=()=>{l.isMulti?(a.value=[],y("optionDeselected",null)):(a.value=void 0,y("optionDeselected",g.value[0])),c.value=!1,r.value="",s.value&&s.value.blur()},N=e=>{if(c.value){if(e.key==="ArrowDown"&&(e.preventDefault(),_.value=Math.min(_.value+1,D.value.length-1)),e.key==="ArrowUp"&&(e.preventDefault(),_.value=Math.max(_.value-1,0)),e.key==="Enter"){const v=D.value[_.value];e.preventDefault(),v&&T(v)}if(e.code==="Space"&&r.value.length===0){const v=D.value[_.value];e.preventDefault(),v&&T(v)}e.key==="Escape"&&(e.preventDefault(),c.value=!1,r.value="");const d=l.isMulti?a.value.length>0:!!a.value;e.key==="Backspace"&&r.value.length===0&&d&&(e.preventDefault(),l.isMulti?a.value=a.value.slice(0,-1):a.value=void 0)}},te=e=>{!c.value&&r.value.length===0&&(e.preventDefault(),e.stopImmediatePropagation(),B())},ae=e=>{e.key==="Tab"?Y():e.key==="Space"&&te(e)},q=e=>{p.value&&!p.value.contains(e.target)&&(c.value=!1,r.value="")},z=()=>{if(p.value){const e=p.value.getBoundingClientRect();return{left:`${e.x}px`,top:`${e.y+e.height}px`}}return console.warn("Unable to calculate dynamic menu position because of missing internal DOM reference."),{top:"0px",left:"0px"}};return X(()=>r.value,()=>{y("search",r.value),r.value&&!c.value&&B()}),ne(()=>{document.addEventListener("click",q),document.addEventListener("keydown",N)}),ie(()=>{document.removeEventListener("click",q),document.removeEventListener("keydown",N)}),(e,d)=>{var v,h,A,H;return m(),b("div",{ref_key:"container",ref:p,dir:"auto",class:S(["vue-select",{open:c.value,typing:c.value&&r.value.length>0,disabled:e.isDisabled}])},[o("div",{class:S(["control",{focused:c.value}])},[o("div",{class:S(["value-container",{multi:e.isMulti}]),role:"combobox","aria-expanded":c.value,"aria-describedby":e.placeholder,"aria-description":e.placeholder,"aria-labelledby":(v=e.aria)==null?void 0:v.labelledby,"aria-label":g.value.length?g.value.map(e.isMulti?e.getMultiValueLabel:e.getOptionLabel).join(", "):"","aria-required":(h=e.aria)==null?void 0:h.required},[!l.isMulti&&g.value[0]?(m(),b("div",{key:0,class:"single-value",onClick:d[0]||(d[0]=f=>B({focusInput:!0}))},[k(e.$slots,"value",{option:g.value[0]},()=>[$(O(e.getOptionLabel(g.value[0])),1)],!0)])):C("",!0),l.isMulti&&g.value.length?(m(!0),b(U,{key:1},R(g.value,(f,M)=>(m(),b("button",{key:M,type:"button",class:"multi-value",onClick:oe=>ee(f)},[$(O(e.getMultiValueLabel(f))+" ",1),i(J)],8,Ie))),128)):C("",!0),Q(o("input",{id:e.inputId,ref_key:"input",ref:s,"onUpdate:modelValue":d[1]||(d[1]=f=>r.value=f),class:"search-input",type:"text","aria-autocomplete":"list",autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:"false",tabindex:"0",disabled:e.isDisabled,placeholder:g.value.length===0?e.placeholder:"",onMousedown:d[2]||(d[2]=f=>B()),onKeydown:ae},null,40,Ee),[[W,r.value]])],10,Oe),o("div",Te,[g.value.length>0&&e.isClearable?(m(),b("button",{key:0,type:"button",class:"clear-button",tabindex:"-1",disabled:e.isDisabled,onClick:le},[k(e.$slots,"clear",{},()=>[i(J)],!0)],8,Fe)):C("",!0),o("button",{type:"button",class:"dropdown-icon",tabindex:"-1",disabled:e.isDisabled,onClick:d[3]||(d[3]=f=>B({focusInput:!0}))},[k(e.$slots,"dropdown",{},()=>[i(Ve)],!0)],8,Ue)])],2),(m(),G(re,{to:e.teleport,disabled:!e.teleport},[c.value?(m(),b("div",{key:0,ref_key:"menu",ref:x,class:"menu",role:"listbox","aria-label":(A=e.aria)==null?void 0:A.labelledby,"aria-multiselectable":e.isMulti,style:ue({width:l.teleport?`${(H=p.value)==null?void 0:H.getBoundingClientRect().width}px`:"100%",top:l.teleport?z().top:"unset",left:l.teleport?z().left:"unset"})},[k(e.$slots,"menu-header",{},void 0,!0),(m(!0),b(U,null,R(D.value,(f,M)=>(m(),G(Ae,{key:M,type:"button",class:S(["menu-option",{focused:_.value===M,selected:f.value===a.value}]),menu:x.value,index:M,"is-focused":_.value===M,"is-selected":f.value===a.value,onSelect:oe=>T(f)},{default:I(()=>[k(e.$slots,"option",{option:f},()=>[$(O(e.getOptionLabel(f)),1)],!0)]),_:2},1032,["class","menu","index","is-focused","is-selected","onSelect"]))),128)),D.value.length===0?(m(),b("div",Ne,[k(e.$slots,"no-options",{},()=>[$(" No results found ")],!0)])):C("",!0)],12,je)):C("",!0)],8,["to","disabled"]))],2)}}}),ze=j(qe,[["__scopeId","data-v-0d3c3f89"]]),E=u=>(be("data-v-cedad85b"),u=u(),ye(),u),He={class:"flex justify-between items-center"},Ze=E(()=>o("h2",{class:"heading-2 my-0"},"New Application",-1)),Ke={class:"flex items-center space-x-2 justify-between"},Re={class:""},Ge={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 mt-4 pb-4"},Je={class:"bg-white dark:bg-gray-800 overflow-x-auto shadow-sm sm:rounded-lg"},Pe={class:"relative overflow-x-auto min-w-max shadow-md sm:rounded-lg p-4"},Xe={class:"flex flex-col px-8 py-2"},Qe={class:""},We=E(()=>o("legend",{class:"heading-3"}," Add new Application ",-1)),Ye=E(()=>o("div",{class:"border-b pb-1 mb-4 w-full mb-2 flex justify-between text-gray-700 dark:text-gray-200"},[o("span",{class:"block"},"Please enter info"),o("span",{class:"block"},"Step 1 of 1")],-1)),el={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ll={class:""},tl=["value"],al={class:"mt-4"},ol=E(()=>o("hr",{class:"my-8"},null,-1)),sl={__name:"ApplicationCreate",props:{vacancies:{type:Object,required:!0}},setup(u){const t=ce({vacancy_id:null,contact:"",text:"",letter_file:"",comment:"",status:"draft",date_apply:""}),l=()=>{t.post(route("customer.applications.store"))};return(y,a)=>{const p=pe("font-awesome-icon");return m(),b(U,null,[i(n(ve),{title:"New Application"}),i(ge,null,{header:I(()=>[o("div",He,[Ze,o("div",Ke,[i(n(me),{class:"block btn btn-secondary btn-outlined",href:y.route("customer.applications.index")},{default:I(()=>[i(p,{icon:"arrow-left-long",enctype:"multipart/form-data"}),$(" Back to List ")]),_:1},8,["href"])])])]),default:I(()=>[o("div",Re,[o("div",Ge,[o("div",Je,[o("div",Pe,[o("div",Xe,[o("form",{onSubmit:fe(l,["prevent"]),class:"min-h-screen"},[o("fieldset",Qe,[We,Ye,o("div",el,[o("div",ll,[i(L,{for:"vacancy_id",value:"Vacancies"}),i(n(ze),{id:"vacancy_id",modelValue:n(t).vacancy_id,"onUpdate:modelValue":a[0]||(a[0]=s=>n(t).vacancy_id=s),options:u.vacancies.data},null,8,["modelValue","options"]),i(V,{class:"mt-2",message:n(t).errors.vacancy_id},null,8,["message"])]),o("div",null,[i(L,{for:"date_apply",value:"Date of applying"}),i(F,{id:"date_apply",type:"date",class:"block w-full",modelValue:n(t).date_apply,"onUpdate:modelValue":a[1]||(a[1]=s=>n(t).date_apply=s)},null,8,["modelValue"]),i(V,{class:"mt-2",message:n(t).errors.date_apply},null,8,["message"])]),o("div",null,[i(L,{for:"contact",value:"Contact"}),i(F,{id:"contact",type:"text",class:"block w-full",modelValue:n(t).contact,"onUpdate:modelValue":a[2]||(a[2]=s=>n(t).contact=s),autocomplete:"on"},null,8,["modelValue"]),i(V,{class:"mt-2",message:n(t).errors.contact},null,8,["message"])]),o("div",null,[i(L,{for:"apply-text",value:"Text of cover letter"}),Q(o("textarea",{id:"apply-text",type:"text",class:"mt-1 block w-full","onUpdate:modelValue":a[3]||(a[3]=s=>n(t).text=s),autocomplete:"on",placeholder:"Enter your cover letter text..."},null,512),[[W,n(t).text]]),i(V,{class:"mt-2",message:n(t).errors.text},null,8,["message"])]),o("div",null,[i(L,{for:"comment",value:"Comment"}),i(F,{id:"comment",type:"text",class:"mt-1 block w-full",modelValue:n(t).comment,"onUpdate:modelValue":a[4]||(a[4]=s=>n(t).comment=s),autocomplete:"on",placeholder:"Enter your comment text..."},null,8,["modelValue"]),i(V,{class:"mt-2",message:n(t).errors.comment},null,8,["message"])]),o("div",null,[i(L,{for:"letter_file",value:"Letter files"}),o("input",{id:"letter_file",type:"file",class:"mt-1 block w-full",name:"letter_file",onInput:a[5]||(a[5]=s=>n(t).letter_file=s.target.files[0])},null,32),n(t).progress?(m(),b("progress",{key:0,value:n(t).progress.percentage,max:"100"},O(n(t).progress.percentage)+"% ",9,tl)):C("",!0),i(V,{class:"mt-2",message:n(t).errors.letter_file},null,8,["message"])])])]),o("div",al,[i(_e,{class:S(["flex justify-center w-full md:w-auto",{"opacity-25":n(t).processing}]),disabled:n(t).processing,label:"Save"},null,8,["class","disabled"])]),ol],32)])])])])])]),_:1})],64)}}},vl=he(sl,[["__scopeId","data-v-cedad85b"]]);export{vl as default};
