import{x as j,y as A,z as Q,A as g,h as N,B as K,C as W,E as Y,o as c,c as p,a as M,n as B,k,e as S,t as _,g as D,F as q,r as z,d as V,j as ee,p as le,b as H,G as ae,w as te,H as oe,I as ie}from"./app-D1au_eOq.js";const $=(i,v)=>{const l=i.__vccOpts||i;for(const[f,a]of v)l[f]=a;return l},ue={},ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},se=M("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"},null,-1),re=[se];function de(i,v){return c(),p("svg",ne,re)}const ce=$(ue,[["render",de]]),ve={},pe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},fe=M("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"},null,-1),be=[fe];function me(i,v){return c(),p("svg",pe,be)}const U=$(ve,[["render",me]]),ye=j({__name:"MenuOption",props:{menu:{},index:{},isFocused:{type:Boolean},isSelected:{type:Boolean}},emits:["select"],setup(i,{emit:v}){const l=i,f=v,a=g(null);return K(()=>l.isFocused,()=>{if(l.isFocused&&l.menu){const r=l.menu.children[l.index],n=r.offsetTop,h=n+r.clientHeight,t=l.menu.scrollTop,u=l.menu.clientHeight;n<t?l.menu.scrollTop=n:h>t+u&&(l.menu.scrollTop=h-u)}}),(r,n)=>(c(),p("div",{ref_key:"option",ref:a,tabindex:"-1",role:"option",class:B({focused:r.isFocused,selected:r.isSelected}),"aria-disabled":!1,onClick:n[0]||(n[0]=h=>f("select")),onKeydown:n[1]||(n[1]=ie(h=>f("select"),["enter"]))},[k(r.$slots,"default")],34))}}),he=["aria-expanded","aria-describedby","aria-description","aria-labelledby","aria-label","aria-required"],ge=["onClick"],ke=["id","disabled","placeholder"],Me={class:"indicators-container"},xe=["disabled"],we=["disabled"],Le=["aria-label","aria-multiselectable"],De={key:0,class:"no-results"},Be=j({__name:"Select",props:A({options:{},displayedOptions:{},placeholder:{default:"Select an option"},isClearable:{type:Boolean,default:!0},isDisabled:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!0},isMulti:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},teleport:{default:void 0},inputId:{default:void 0},aria:{default:void 0},filterBy:{type:Function,default:(i,v,l)=>v.toLowerCase().includes(l.toLowerCase())},getOptionLabel:{type:Function,default:i=>i.label},getMultiValueLabel:{type:Function,default:i=>i.label}},{modelValue:{required:!0,validator:(i,v)=>v.isMulti?Array.isArray(i):!Array.isArray(i)},modelModifiers:{}}),emits:A(["optionSelected","optionDeselected","search"],["update:modelValue"]),setup(i,{emit:v}){const l=i,f=v,a=Q(i,"modelValue"),r=g(null),n=g(null),h=g(null),t=g(""),u=g(!1),m=g(-1),w=N(()=>{const e=l.displayedOptions||l.options,o=s=>s.filter(y=>!a.value.includes(y.value));if(l.isSearchable&&t.value){const s=e.filter(y=>{const C=l.isMulti?l.getMultiValueLabel(y):l.getOptionLabel(y);return l.filterBy(y,C,t.value)});return l.isMulti?o(s):s}return l.isMulti?o(e):e}),b=N(()=>{if(l.isMulti)return a.value.map(o=>l.options.find(s=>s.value===o));const e=l.options.find(o=>o.value===a.value);return e?[e]:[]}),L=e=>{u.value=!0,m.value=0,e!=null&&e.focusInput&&n.value&&n.value.focus()},R=()=>{u.value=!1,t.value=""},O=e=>{l.isMulti?a.value.push(e.value):a.value=e.value,f("optionSelected",e),t.value="",l.closeOnSelect&&(u.value=!1),n.value&&n.value.blur()},Z=e=>{l.isMulti&&!l.isDisabled&&(a.value=a.value.filter(o=>o!==e.value),f("optionDeselected",e))},G=()=>{l.isMulti?(a.value=[],f("optionDeselected",null)):(a.value=void 0,f("optionDeselected",b.value[0])),u.value=!1,t.value="",n.value&&n.value.blur()},F=e=>{if(u.value){if(e.key==="ArrowDown"&&(e.preventDefault(),m.value=Math.min(m.value+1,w.value.length-1)),e.key==="ArrowUp"&&(e.preventDefault(),m.value=Math.max(m.value-1,0)),e.key==="Enter"){const s=w.value[m.value];e.preventDefault(),s&&O(s)}if(e.code==="Space"&&t.value.length===0){const s=w.value[m.value];e.preventDefault(),s&&O(s)}e.key==="Escape"&&(e.preventDefault(),u.value=!1,t.value="");const o=l.isMulti?a.value.length>0:!!a.value;e.key==="Backspace"&&t.value.length===0&&o&&(e.preventDefault(),l.isMulti?a.value=a.value.slice(0,-1):a.value=void 0)}},J=e=>{!u.value&&t.value.length===0&&(e.preventDefault(),e.stopImmediatePropagation(),L())},P=e=>{e.key==="Tab"?R():e.key==="Space"&&J(e)},E=e=>{r.value&&!r.value.contains(e.target)&&(u.value=!1,t.value="")},I=()=>{if(r.value){const e=r.value.getBoundingClientRect();return{left:`${e.x}px`,top:`${e.y+e.height}px`}}return console.warn("Unable to calculate dynamic menu position because of missing internal DOM reference."),{top:"0px",left:"0px"}};return K(()=>t.value,()=>{f("search",t.value),t.value&&!u.value&&L()}),W(()=>{document.addEventListener("click",E),document.addEventListener("keydown",F)}),Y(()=>{document.removeEventListener("click",E),document.removeEventListener("keydown",F)}),(e,o)=>{var s,y,C,T;return c(),p("div",{ref_key:"container",ref:r,dir:"auto",class:B(["vue-select",{open:u.value,typing:u.value&&t.value.length>0,disabled:e.isDisabled}])},[M("div",{class:B(["control",{focused:u.value}])},[M("div",{class:B(["value-container",{multi:e.isMulti}]),role:"combobox","aria-expanded":u.value,"aria-describedby":e.placeholder,"aria-description":e.placeholder,"aria-labelledby":(s=e.aria)==null?void 0:s.labelledby,"aria-label":b.value.length?b.value.map(e.isMulti?e.getMultiValueLabel:e.getOptionLabel).join(", "):"","aria-required":(y=e.aria)==null?void 0:y.required},[!l.isMulti&&b.value[0]?(c(),p("div",{key:0,class:"single-value",onClick:o[0]||(o[0]=d=>L({focusInput:!0}))},[k(e.$slots,"value",{option:b.value[0]},()=>[S(_(e.getOptionLabel(b.value[0])),1)],!0)])):D("",!0),l.isMulti&&b.value.length?(c(!0),p(q,{key:1},z(b.value,(d,x)=>(c(),p("button",{key:x,type:"button",class:"multi-value",onClick:X=>Z(d)},[S(_(e.getMultiValueLabel(d))+" ",1),V(U)],8,ge))),128)):D("",!0),ee(M("input",{id:e.inputId,ref_key:"input",ref:n,"onUpdate:modelValue":o[1]||(o[1]=d=>t.value=d),class:"search-input",type:"text","aria-autocomplete":"list",autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:"false",tabindex:"0",disabled:e.isDisabled,placeholder:b.value.length===0?e.placeholder:"",onMousedown:o[2]||(o[2]=d=>L()),onKeydown:P},null,40,ke),[[le,t.value]])],10,he),M("div",Me,[b.value.length>0&&e.isClearable?(c(),p("button",{key:0,type:"button",class:"clear-button",tabindex:"-1",disabled:e.isDisabled,onClick:G},[k(e.$slots,"clear",{},()=>[V(U)],!0)],8,xe)):D("",!0),M("button",{type:"button",class:"dropdown-icon",tabindex:"-1",disabled:e.isDisabled,onClick:o[3]||(o[3]=d=>L({focusInput:!0}))},[k(e.$slots,"dropdown",{},()=>[V(ce)],!0)],8,we)])],2),(c(),H(oe,{to:e.teleport,disabled:!e.teleport},[u.value?(c(),p("div",{key:0,ref_key:"menu",ref:h,class:"menu",role:"listbox","aria-label":(C=e.aria)==null?void 0:C.labelledby,"aria-multiselectable":e.isMulti,style:ae({width:l.teleport?`${(T=r.value)==null?void 0:T.getBoundingClientRect().width}px`:"100%",top:l.teleport?I().top:"unset",left:l.teleport?I().left:"unset"})},[k(e.$slots,"menu-header",{},void 0,!0),(c(!0),p(q,null,z(w.value,(d,x)=>(c(),H(ye,{key:x,type:"button",class:B(["menu-option",{focused:m.value===x,selected:d.value===a.value}]),menu:h.value,index:x,"is-focused":m.value===x,"is-selected":d.value===a.value,onSelect:X=>O(d)},{default:te(()=>[k(e.$slots,"option",{option:d},()=>[S(_(e.getOptionLabel(d)),1)],!0)]),_:2},1032,["class","menu","index","is-focused","is-selected","onSelect"]))),128)),w.value.length===0?(c(),p("div",De,[k(e.$slots,"no-options",{},()=>[S(" No results found ")],!0)])):D("",!0)],12,Le)):D("",!0)],8,["to","disabled"]))],2)}}}),Se=$(Be,[["__scopeId","data-v-0d3c3f89"]]);export{Se as C};
