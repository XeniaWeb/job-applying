import{m as X,p as Z,q as ne,s as k,h as K,x as Q,y as ie,z as ue,o as m,c as b,a as s,n as C,k as M,e as $,t as I,g as L,F,r as R,d as i,j as W,A as Y,b as G,B as re,w as E,C as de,D as ce,T as pe,E as ve,u as n,Z as me,i as fe,f as be,G as ye,H as ge}from"./app-CQFkeTTw.js";import{_ as w,b as S,a as A}from"./TextInput-Bxnh_U05.js";import{_ as _e}from"./AuthenticatedLayout-DKU-ptKr.js";import{_ as he}from"./PrimaryButton-CarttiPi.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoXeniaWebMB-Dpb2Tka7.js";import"./AppButton-FjII3ii2.js";const j=(u,t)=>{const l=u.__vccOpts||u;for(const[y,a]of t)l[y]=a;return l},we={},ke={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Me=s("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"},null,-1),Ve=[Me];function Se(u,t){return m(),b("svg",ke,Ve)}const Le=j(we,[["render",Se]]),Ce={},De={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Be=s("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"},null,-1),$e=[Be];function Oe(u,t){return m(),b("svg",De,$e)}const J=j(Ce,[["render",Oe]]),Ae=X({__name:"MenuOption",props:{menu:{},index:{},isFocused:{type:Boolean},isSelected:{type:Boolean}},emits:["select"],setup(u,{emit:t}){const l=u,y=t,a=k(null);return Q(()=>l.isFocused,()=>{if(l.isFocused&&l.menu){const p=l.menu.children[l.index],o=p.offsetTop,x=o+p.clientHeight,r=l.menu.scrollTop,c=l.menu.clientHeight;o<r?l.menu.scrollTop=o:x>r+c&&(l.menu.scrollTop=x-c)}}),(p,o)=>(m(),b("div",{ref_key:"option",ref:a,tabindex:"-1",role:"option",class:C({focused:p.isFocused,selected:p.isSelected}),"aria-disabled":!1,onClick:o[0]||(o[0]=x=>y("select")),onKeydown:o[1]||(o[1]=ce(x=>y("select"),["enter"]))},[M(p.$slots,"default")],34))}}),Ie=["aria-expanded","aria-describedby","aria-description","aria-labelledby","aria-label","aria-required"],Ee=["onClick"],Te=["id","disabled","placeholder"],Ue={class:"indicators-container"},Fe=["disabled"],je=["disabled"],qe=["aria-label","aria-multiselectable"],Ne={key:0,class:"no-results"},ze=X({__name:"Select",props:Z({options:{},displayedOptions:{},placeholder:{default:"Select an option"},isClearable:{type:Boolean,default:!0},isDisabled:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!0},isMulti:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},teleport:{default:void 0},inputId:{default:void 0},aria:{default:void 0},filterBy:{type:Function,default:(u,t,l)=>t.toLowerCase().includes(l.toLowerCase())},getOptionLabel:{type:Function,default:u=>u.label},getMultiValueLabel:{type:Function,default:u=>u.label}},{modelValue:{required:!0,validator:(u,t)=>t.isMulti?Array.isArray(u):!Array.isArray(u)},modelModifiers:{}}),emits:Z(["optionSelected","optionDeselected","search"],["update:modelValue"]),setup(u,{emit:t}){const l=u,y=t,a=ne(u,"modelValue"),p=k(null),o=k(null),x=k(null),r=k(""),c=k(!1),_=k(-1),D=K(()=>{const e=l.displayedOptions||l.options,d=v=>v.filter(h=>!a.value.includes(h.value));if(l.isSearchable&&r.value){const v=e.filter(h=>{const O=l.isMulti?l.getMultiValueLabel(h):l.getOptionLabel(h);return l.filterBy(h,O,r.value)});return l.isMulti?d(v):v}return l.isMulti?d(e):e}),g=K(()=>{if(l.isMulti)return a.value.map(d=>l.options.find(v=>v.value===d));const e=l.options.find(d=>d.value===a.value);return e?[e]:[]}),B=e=>{c.value=!0,_.value=0,e!=null&&e.focusInput&&o.value&&o.value.focus()},ee=()=>{c.value=!1,r.value=""},U=e=>{l.isMulti?a.value.push(e.value):a.value=e.value,y("optionSelected",e),r.value="",l.closeOnSelect&&(c.value=!1),o.value&&o.value.blur()},le=e=>{l.isMulti&&!l.isDisabled&&(a.value=a.value.filter(d=>d!==e.value),y("optionDeselected",e))},te=()=>{l.isMulti?(a.value=[],y("optionDeselected",null)):(a.value=void 0,y("optionDeselected",g.value[0])),c.value=!1,r.value="",o.value&&o.value.blur()},q=e=>{if(c.value){if(e.key==="ArrowDown"&&(e.preventDefault(),_.value=Math.min(_.value+1,D.value.length-1)),e.key==="ArrowUp"&&(e.preventDefault(),_.value=Math.max(_.value-1,0)),e.key==="Enter"){const v=D.value[_.value];e.preventDefault(),v&&U(v)}if(e.code==="Space"&&r.value.length===0){const v=D.value[_.value];e.preventDefault(),v&&U(v)}e.key==="Escape"&&(e.preventDefault(),c.value=!1,r.value="");const d=l.isMulti?a.value.length>0:!!a.value;e.key==="Backspace"&&r.value.length===0&&d&&(e.preventDefault(),l.isMulti?a.value=a.value.slice(0,-1):a.value=void 0)}},ae=e=>{!c.value&&r.value.length===0&&(e.preventDefault(),e.stopImmediatePropagation(),B())},oe=e=>{e.key==="Tab"?ee():e.key==="Space"&&ae(e)},N=e=>{p.value&&!p.value.contains(e.target)&&(c.value=!1,r.value="")},z=()=>{if(p.value){const e=p.value.getBoundingClientRect();return{left:`${e.x}px`,top:`${e.y+e.height}px`}}return console.warn("Unable to calculate dynamic menu position because of missing internal DOM reference."),{top:"0px",left:"0px"}};return Q(()=>r.value,()=>{y("search",r.value),r.value&&!c.value&&B()}),ie(()=>{document.addEventListener("click",N),document.addEventListener("keydown",q)}),ue(()=>{document.removeEventListener("click",N),document.removeEventListener("keydown",q)}),(e,d)=>{var v,h,O,H;return m(),b("div",{ref_key:"container",ref:p,dir:"auto",class:C(["vue-select",{open:c.value,typing:c.value&&r.value.length>0,disabled:e.isDisabled}])},[s("div",{class:C(["control",{focused:c.value}])},[s("div",{class:C(["value-container",{multi:e.isMulti}]),role:"combobox","aria-expanded":c.value,"aria-describedby":e.placeholder,"aria-description":e.placeholder,"aria-labelledby":(v=e.aria)==null?void 0:v.labelledby,"aria-label":g.value.length?g.value.map(e.isMulti?e.getMultiValueLabel:e.getOptionLabel).join(", "):"","aria-required":(h=e.aria)==null?void 0:h.required},[!l.isMulti&&g.value[0]?(m(),b("div",{key:0,class:"single-value",onClick:d[0]||(d[0]=f=>B({focusInput:!0}))},[M(e.$slots,"value",{option:g.value[0]},()=>[$(I(e.getOptionLabel(g.value[0])),1)],!0)])):L("",!0),l.isMulti&&g.value.length?(m(!0),b(F,{key:1},R(g.value,(f,V)=>(m(),b("button",{key:V,type:"button",class:"multi-value",onClick:se=>le(f)},[$(I(e.getMultiValueLabel(f))+" ",1),i(J)],8,Ee))),128)):L("",!0),W(s("input",{id:e.inputId,ref_key:"input",ref:o,"onUpdate:modelValue":d[1]||(d[1]=f=>r.value=f),class:"search-input",type:"text","aria-autocomplete":"list",autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:"false",tabindex:"0",disabled:e.isDisabled,placeholder:g.value.length===0?e.placeholder:"",onMousedown:d[2]||(d[2]=f=>B()),onKeydown:oe},null,40,Te),[[Y,r.value]])],10,Ie),s("div",Ue,[g.value.length>0&&e.isClearable?(m(),b("button",{key:0,type:"button",class:"clear-button",tabindex:"-1",disabled:e.isDisabled,onClick:te},[M(e.$slots,"clear",{},()=>[i(J)],!0)],8,Fe)):L("",!0),s("button",{type:"button",class:"dropdown-icon",tabindex:"-1",disabled:e.isDisabled,onClick:d[3]||(d[3]=f=>B({focusInput:!0}))},[M(e.$slots,"dropdown",{},()=>[i(Le)],!0)],8,je)])],2),(m(),G(de,{to:e.teleport,disabled:!e.teleport},[c.value?(m(),b("div",{key:0,ref_key:"menu",ref:x,class:"menu",role:"listbox","aria-label":(O=e.aria)==null?void 0:O.labelledby,"aria-multiselectable":e.isMulti,style:re({width:l.teleport?`${(H=p.value)==null?void 0:H.getBoundingClientRect().width}px`:"100%",top:l.teleport?z().top:"unset",left:l.teleport?z().left:"unset"})},[M(e.$slots,"menu-header",{},void 0,!0),(m(!0),b(F,null,R(D.value,(f,V)=>(m(),G(Ae,{key:V,type:"button",class:C(["menu-option",{focused:_.value===V,selected:f.value===a.value}]),menu:x.value,index:V,"is-focused":_.value===V,"is-selected":f.value===a.value,onSelect:se=>U(f)},{default:E(()=>[M(e.$slots,"option",{option:f},()=>[$(I(e.getOptionLabel(f)),1)],!0)]),_:2},1032,["class","menu","index","is-focused","is-selected","onSelect"]))),128)),D.value.length===0?(m(),b("div",Ne,[M(e.$slots,"no-options",{},()=>[$(" No results found ")],!0)])):L("",!0)],12,qe)):L("",!0)],8,["to","disabled"]))],2)}}}),P=j(ze,[["__scopeId","data-v-0d3c3f89"]]),T=u=>(ye("data-v-50fd252c"),u=u(),ge(),u),He={class:"flex justify-between items-center"},Ze=T(()=>s("h2",{class:"heading-2 my-0"},"New Application",-1)),Ke={class:"flex items-center space-x-2 justify-between"},Re={class:""},Ge={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 mt-4 pb-4"},Je={class:"bg-white dark:bg-gray-800 overflow-x-auto shadow-sm sm:rounded-lg"},Pe={class:"relative overflow-x-auto min-w-max shadow-md sm:rounded-lg p-4"},Xe={class:"flex flex-col px-8 py-2"},Qe={class:""},We=T(()=>s("legend",{class:"heading-3"}," Add new Application ",-1)),Ye=T(()=>s("div",{class:"border-b pb-1 mb-4 w-full mb-2 flex justify-between text-gray-700 dark:text-gray-200"},[s("span",{class:"block"},"Please enter info"),s("span",{class:"block"},"Step 1 of 1")],-1)),el={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ll={class:""},tl=["value"],al={class:"mt-4"},ol=T(()=>s("hr",{class:"my-8"},null,-1)),sl={__name:"ApplicationCreate",props:{vacancies:{type:Object,required:!0},appStatuses:{type:Object,required:!0}},setup(u){const t=pe({vacancy_id:[],status:"",date_apply:null,contact:"",text:"",letter_file:"",comment:""}),l=()=>{t.post(route("customer.applications.store"))};return(y,a)=>{const p=ve("font-awesome-icon");return m(),b(F,null,[i(n(me),{title:"New Application"}),i(_e,null,{header:E(()=>[s("div",He,[Ze,s("div",Ke,[i(n(fe),{class:"block btn btn-secondary btn-outlined",href:y.route("customer.applications.index")},{default:E(()=>[i(p,{icon:"arrow-left-long",enctype:"multipart/form-data"}),$(" Back to List ")]),_:1},8,["href"])])])]),default:E(()=>[s("div",Re,[s("div",Ge,[s("div",Je,[s("div",Pe,[s("div",Xe,[s("form",{onSubmit:be(l,["prevent"]),class:"min-h-screen"},[s("fieldset",Qe,[We,Ye,s("div",el,[s("div",ll,[i(w,{for:"vacancy_id",value:"Vacancies"}),i(n(P),{modelValue:n(t).vacancy_id,"onUpdate:modelValue":a[0]||(a[0]=o=>n(t).vacancy_id=o),options:u.vacancies.data},null,8,["modelValue","options"]),i(S,{class:"mt-2",message:n(t).errors.vacancy_id},null,8,["message"])]),s("div",null,[i(w,{for:"status_app",value:"Status"}),i(n(P),{id:"status_app",modelValue:n(t).status,"onUpdate:modelValue":a[1]||(a[1]=o=>n(t).status=o),"is-multi":!1,options:u.appStatuses},null,8,["modelValue","options"])]),s("div",null,[i(w,{for:"date_apply",value:"Date of applying"}),i(A,{id:"date_apply",type:"date",class:"block w-full",modelValue:n(t).date_apply,"onUpdate:modelValue":a[2]||(a[2]=o=>n(t).date_apply=o),required:""},null,8,["modelValue"]),i(S,{class:"mt-2",message:n(t).errors.date_apply},null,8,["message"])]),s("div",null,[i(w,{for:"contact",value:"Contact"}),i(A,{id:"contact",type:"text",class:"block w-full",modelValue:n(t).contact,"onUpdate:modelValue":a[3]||(a[3]=o=>n(t).contact=o),autocomplete:"on"},null,8,["modelValue"]),i(S,{class:"mt-2",message:n(t).errors.contact},null,8,["message"])]),s("div",null,[i(w,{for:"apply-text",value:"Text of cover letter"}),W(s("textarea",{id:"apply-text",type:"text",class:"mt-1 block w-full","onUpdate:modelValue":a[4]||(a[4]=o=>n(t).text=o),autocomplete:"on",placeholder:"Enter your cover letter text..."},null,512),[[Y,n(t).text]]),i(S,{class:"mt-2",message:n(t).errors.text},null,8,["message"])]),s("div",null,[i(w,{for:"comment",value:"Comment"}),i(A,{id:"comment",type:"text",class:"mt-1 block w-full",modelValue:n(t).comment,"onUpdate:modelValue":a[5]||(a[5]=o=>n(t).comment=o),autocomplete:"on",placeholder:"Enter your comment text..."},null,8,["modelValue"]),i(S,{class:"mt-2",message:n(t).errors.comment},null,8,["message"])]),s("div",null,[i(w,{for:"letter_file",value:"Letter files"}),i(A,{id:"letter_file",type:"file",class:"mt-1 block w-full",modelValue:n(t).letter_file,"onUpdate:modelValue":a[6]||(a[6]=o=>n(t).letter_file=o),multiple:"multiple",onInput:a[7]||(a[7]=o=>n(t).letter_file=o.target.files)},null,8,["modelValue"]),n(t).progress?(m(),b("progress",{key:0,value:n(t).progress.percentage,max:"100"},I(n(t).progress.percentage)+"% ",9,tl)):L("",!0),i(S,{class:"mt-2",message:n(t).errors.letter_file},null,8,["message"])])])]),s("div",al,[i(he,{class:C(["flex justify-center w-full md:w-auto",{"opacity-25":n(t).processing}]),disabled:n(t).processing,label:"Save"},null,8,["class","disabled"])]),ol],32)])])])])])]),_:1})],64)}}},vl=xe(sl,[["__scopeId","data-v-50fd252c"]]);export{vl as default};
